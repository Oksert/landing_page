<p>Здесь я буду описывать отличия настроек <strong>standalone.xml</strong> от стандартных.&nbsp;</p><p>Используемый сервер <strong>JBoss 7.1.1</strong>.</p><p><strong>Отмена стандартной страницы приветствия</strong></p><p>Сменить параметр <strong>enable-welcome-root </strong>на <strong>"false"</strong></p><p><strong>Сжатие данных.</strong></p><p>После&nbsp;<strong>&lt;/extensions&gt;</strong> добавляется следующий блок.</p><div style="background:#272822;overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin:0;line-height:125%;"><span style="color:#f92672;">&lt;system-properties&gt;</span>
        <span style="color:#f92672;">&lt;property</span> <span style="color:#a6e22e;">name=</span><span style="color:#e6db74;">"org.apache.coyote.http11.Http11Protocol.COMPRESSION"</span> <span style="color:#a6e22e;">value=</span><span style="color:#e6db74;">"on"</span><span style="color:#f92672;">/&gt;</span>
        <span style="color:#f92672;">&lt;property</span> <span style="color:#a6e22e;">name=</span><span style="color:#e6db74;">"org.apache.coyote.http11.Http11Protocol.COMPRESSION_MIME_TYPES"</span> <span style="color:#a6e22e;">value=</span><span style="color:#e6db74;">"text/javascript,text/css,text/html,text/xml,text/json"</span><span style="color:#f92672;">/&gt;</span>
<span style="color:#f92672;">&lt;/system-properties&gt;</span>
<p></p></pre></div><p><br /></p><p style="margin-top:0px;margin-bottom:1em;border:0px;font-size:15px;clear:both;color:#222222;font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;line-height:19.5px;">Для&nbsp;<strong><a class="wiki_link" href="/wiki/show/vsm2_1step/WildFly" title="WildFly">WildFly</a> 8.2.0</strong></p><p style="margin-top:0px;margin-bottom:1em;border:0px;font-size:15px;clear:both;color:#222222;font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;line-height:19.5px;"><strong>Отмена стандартной страницы приветствия</strong></p><p style="margin-top:0px;margin-bottom:1em;border:0px;font-size:15px;clear:both;color:#222222;font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;line-height:19.5px;"><span style="font-size:13px;line-height:22px;color:#213140;font-family:'Helvetica Neue', Helvetica, arial, 'Liberation Sans', FreeSans, sans-serif;">В файле<strong>&nbsp;</strong></span><strong>standalone.xml</strong>:</p><p style="margin-top:0px;margin-bottom:1em;border:0px;font-size:15px;clear:both;color:#222222;font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;line-height:19.5px;">Убрать&nbsp;&nbsp;<code style="padding:1px 5px;border:0px;font-size:13px;font-family:Consolas, Menlo, Monaco, 'Lucida Console', 'Liberation Mono', 'DejaVu Sans Mono', 'Bitstream Vera Sans Mono', 'Courier New', monospace, sans-serif;white-space:pre-wrap;background-color:#eeeeee;">&lt;location name="/" handler="welcome-content"/&gt;</code></p><p style="margin-top:0px;margin-bottom:1em;border:0px;font-size:15px;clear:both;color:#222222;font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;line-height:19.5px;">Убрать</p><pre class="default prettyprint prettyprinted" style="margin-bottom:1em;padding:5px;border:0px;overflow:auto;width:auto;font-family:Consolas, Menlo, Monaco, 'Lucida Console', 'Liberation Mono', 'DejaVu Sans Mono', 'Bitstream Vera Sans Mono', 'Courier New', monospace, sans-serif;color:#393318;background-color:#eeeeee;"><code style="border:0px;font-family:Consolas, Menlo, Monaco, 'Lucida Console', 'Liberation Mono', 'DejaVu Sans Mono', 'Bitstream Vera Sans Mono', 'Courier New', monospace, sans-serif;white-space:inherit;"><span class="tag" style="border:0px;color:#800000;">&lt;handlers&gt;</span><span class="pln" style="border:0px;color:#000000;">
   </span><span class="tag" style="border:0px;color:#800000;">&lt;file</span><span class="pln" style="border:0px;color:#000000;"> </span><span class="atn" style="border:0px;color:#ff0000;">name</span><span class="pun" style="border:0px;color:#000000;">=</span><span class="atv" style="border:0px;color:#0000ff;">"welcome-content"</span><span class="pln" style="border:0px;color:#000000;"> </span><span class="atn" style="border:0px;color:#ff0000;">path</span><span class="pun" style="border:0px;color:#000000;">=</span><span class="atv" style="border:0px;color:#0000ff;">"${jboss.home.dir}/welcome-content"</span><span class="tag" style="border:0px;color:#800000;">/&gt;</span><span class="pln" style="border:0px;color:#000000;">
</span><span class="tag" style="border:0px;color:#800000;">&lt;/handlers&gt;</span></code>
</pre><p><strong>Сжатие данных&nbsp;</strong></p><p>В &nbsp;<strong>standalone.xml&nbsp;</strong>находим узел&nbsp;<strong>&lt;subsystem xmlns="urn:jboss:domain:undertow</strong></p><p>В нем в узел <strong>host </strong>добавляем<strong>&nbsp;&lt;filter-ref name="gzipFilter" predicate="path-suffix['.css'] or path-suffix['.js'] or path-suffix['.html']"/&gt;</strong></p><p>а в узел <strong>filters </strong>добавляем<strong>&nbsp;&nbsp;&lt;gzip name="gzipFilter"/&gt;</strong></p><p>Весь узел subsystems&nbsp;при этом станет выглядеть:</p><div style="background:#272822;overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin:0;line-height:125%;">        <span style="color:#f92672;">&lt;subsystem</span> <span style="color:#a6e22e;">xmlns=</span><span style="color:#e6db74;">"urn:jboss:domain:undertow:1.2"</span><span style="color:#f92672;">&gt;</span>
            <span style="color:#f92672;">&lt;buffer-cache</span> <span style="color:#a6e22e;">name=</span><span style="color:#e6db74;">"default"</span><span style="color:#f92672;">/&gt;</span>
            <span style="color:#f92672;">&lt;server</span> <span style="color:#a6e22e;">name=</span><span style="color:#e6db74;">"default-server"</span><span style="color:#f92672;">&gt;</span>
                <span style="color:#f92672;">&lt;http-listener</span> <span style="color:#a6e22e;">name=</span><span style="color:#e6db74;">"default"</span> <span style="color:#a6e22e;">socket-binding=</span><span style="color:#e6db74;">"http"</span><span style="color:#f92672;">/&gt;</span>
                <span style="color:#f92672;">&lt;host</span> <span style="color:#a6e22e;">name=</span><span style="color:#e6db74;">"default-host"</span> <span style="color:#a6e22e;">alias=</span><span style="color:#e6db74;">"localhost"</span><span style="color:#f92672;">&gt;</span>
                    <span style="color:#f92672;">&lt;filter-ref</span> <span style="color:#a6e22e;">name=</span><span style="color:#e6db74;">"server-header"</span><span style="color:#f92672;">/&gt;</span>
                    <span style="color:#f92672;">&lt;filter-ref</span> <span style="color:#a6e22e;">name=</span><span style="color:#e6db74;">"x-powered-by-header"</span><span style="color:#f92672;">/&gt;</span>
                    <span style="color:#f92672;">&lt;filter-ref</span> <span style="color:#a6e22e;">name=</span><span style="color:#e6db74;">"gzipFilter"</span> <span style="color:#a6e22e;">predicate=</span><span style="color:#e6db74;">"path-suffix['.css'] or path-suffix['.js'] or path-suffix['.html']"</span><span style="color:#f92672;">/&gt;</span>
                <span style="color:#f92672;">&lt;/host&gt;</span>
            <span style="color:#f92672;">&lt;/server&gt;</span>
            <span style="color:#f92672;">&lt;servlet-container</span> <span style="color:#a6e22e;">name=</span><span style="color:#e6db74;">"default"</span><span style="color:#f92672;">&gt;</span>
                <span style="color:#f92672;">&lt;jsp-config/&gt;</span>
                <span style="color:#f92672;">&lt;websockets/&gt;</span>
            <span style="color:#f92672;">&lt;/servlet-container&gt;</span>
            <span style="color:#f92672;">&lt;filters&gt;</span>
                <span style="color:#f92672;">&lt;response-header</span> <span style="color:#a6e22e;">name=</span><span style="color:#e6db74;">"server-header"</span> <span style="color:#a6e22e;">header-name=</span><span style="color:#e6db74;">"Server"</span> <span style="color:#a6e22e;">header-value=</span><span style="color:#e6db74;">"WildFly/8"</span><span style="color:#f92672;">/&gt;</span>
                <span style="color:#f92672;">&lt;response-header</span> <span style="color:#a6e22e;">name=</span><span style="color:#e6db74;">"x-powered-by-header"</span> <span style="color:#a6e22e;">header-name=</span><span style="color:#e6db74;">"X-Powered-By"</span> <span style="color:#a6e22e;">header-value=</span><span style="color:#e6db74;">"Undertow/1"</span><span style="color:#f92672;">/&gt;</span>
                <span style="color:#f92672;">&lt;gzip</span> <span style="color:#a6e22e;">name=</span><span style="color:#e6db74;">"gzipFilter"</span><span style="color:#f92672;">/&gt;</span>
            <span style="color:#f92672;">&lt;/filters&gt;</span>
        <span style="color:#f92672;">&lt;/subsystem&gt;</span>
</pre></div><p><br /></p><p><br /></p><p><br /></p><p><br /></p>