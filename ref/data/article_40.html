<p>Серверные правила предназначены для реализации бизнес-логики при добавлении, обновлении, удалении и выполнении других действий с объектом.</p><p>Для того, чтобы добавить серверное правило необходимо:</p><p>1.&nbsp;&nbsp;&nbsp;&nbsp; В меню навигации проследовать: &laquo;Система управления &ndash; Администрирование &ndash; Правила - Правила&raquo;.</p><p>2.&nbsp;&nbsp;&nbsp;&nbsp; Нажать кнопку &laquo;Добавить запись&raquo;.</p><p>3.&nbsp;&nbsp;&nbsp;&nbsp; В открывшейся форме указать следующие обязательные поля:</p><ul><li>Имя (отображаемое имя.</li><li>Условие срабатывания (выражение на языке Java, преобразующееся к булевой переменной - когда оно возвращает значение &laquo;true&raquo;, будет выполнен код из поля &laquo;Код&raquo;.).</li><li>Код (реализация правила производится на языке программирования Java, доступно использование данных текущей записи record класса EntityDTO, API представлен в разделе Серверные методы и классы API системы).</li></ul><p>Пример серверного правила &ndash; изменить значение поля displayName в объекте DemoTable с &laquo;This is demo code&raquo; на &laquo;This is demo query&raquo;:</p><p>EntityDTO demoItem = QueryUtils.getRecord(&ldquo;DemoTable&rdquo;, &ldquo;displayName=&rsquo;This is demo code&rsquo;&rdquo;);</p><p>demoItem.set(&ldquo;displayName&rdquo;, &ldquo;This is demo query&rdquo;);</p><p>demoItem.doUpdate();</p><p>4.&nbsp;&nbsp;&nbsp;&nbsp; Нажать кнопку &laquo;Создать&raquo;, затем &laquo;Готово&raquo;.</p><p>Для того, чтобы привязать Правило к Таблице необходимо:</p><p>1.&nbsp;&nbsp;&nbsp;&nbsp; В меню навигации проследовать: &laquo;Система управления &ndash; Администрирование &ndash; Правила - Связь Правила и Таблицы&raquo;.</p><p>2.&nbsp;&nbsp;&nbsp;&nbsp; Нажать кнопку &laquo;Добавить запись&raquo;.</p><p>3.&nbsp;&nbsp;&nbsp;&nbsp; В открывшейся форме указать следующие обязательные поля:</p><ul style="list-style-type:circle;margin-left:40px;"><li>Код сущности (название Таблицы, к которой необходимо привязать правило).</li><li>Правило (Правило, которое нужно привязать к Таблице).</li><li>Код события - код события, на которое должно сработать правило. На текущий момент поддерживаются следующие коды событий:</li></ul><ul style="list-style-type:circle;margin-left:80px;"><li>0 - на открытие (при открытии формы просмотра одной записи);</li><li>1 - до добавления (после нажатия на кнопку &laquo;Создать&raquo;, но до внесения физической записи в БД);</li><li>2 - после добавления (после нажатия на кнопку &laquo;Создать&raquo; и внесения физической записи в БД);</li><li>3 - до обновления (после нажатия на кнопку &laquo;Сохранить&raquo; или &laquo;Готово&raquo;, но до обновления физической записи в БД);</li><li>4 - после обновления (после нажатия на кнопку &laquo;Сохранить&raquo; или &laquo;Готово&raquo; и обновления физической записи в БД);</li><li>5 - до удаления (после нажатия на кнопку &laquo;Удалить&raquo;, но до удаления физической записи в БД);</li><li>6 - после удаления (после нажатия на кнопку &laquo;Удалить&raquo; и удаления физической записи в БД).</li></ul><ul><li>Активно (признак активности связи).</li></ul><p>4.&nbsp;&nbsp;&nbsp;&nbsp; Нажать кнопку &laquo;Создать&raquo;, затем &laquo;Готово&raquo;.</p><p class="IPNumberedLevel1CxSpLast"><o:p></o:p></p>