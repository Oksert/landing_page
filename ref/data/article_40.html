<html><head></head><body><p>Серверные правила предназначены для реализации бизнес-логики при добавлении, обновлении, удалении и выполнении других действий с объектом.</p><p>Для того, чтобы добавить серверное правило необходимо:</p><p>1.     В меню навигации проследовать: «Система управления – Администрирование – Правила - Правила».</p><p>2.     Нажать кнопку «Добавить запись».</p><p>3.     В открывшейся форме указать следующие обязательные поля:</p><ul><li>Имя (отображаемое имя.</li><li>Условие срабатывания (выражение на языке Java, преобразующееся к булевой переменной - когда оно возвращает значение «true», будет выполнен код из поля «Код».).</li><li>Код (реализация правила производится на языке программирования Java, доступно использование данных текущей записи record класса EntityDTO, API представлен в разделе Серверные методы и классы API системы).</li></ul><p>Пример серверного правила – изменить значение поля displayName в объекте DemoTable с «This is demo code» на «This is demo query»:</p><p>EntityDTO demoItem = QueryUtils.getRecord(“DemoTable”, “displayName=’This is demo code’”);</p><p>demoItem.set(“displayName”, “This is demo query”);</p><p>demoItem.doUpdate();</p><p>4.     Нажать кнопку «Создать», затем «Готово».</p><p>Для того, чтобы привязать Правило к Таблице необходимо:</p><p>1.     В меню навигации проследовать: «Система управления – Администрирование – Правила - Связь Правила и Таблицы».</p><p>2.     Нажать кнопку «Добавить запись».</p><p>3.     В открывшейся форме указать следующие обязательные поля:</p><ul style="list-style-type:circle;margin-left:40px;"><li>Код сущности (название Таблицы, к которой необходимо привязать правило).</li><li>Правило (Правило, которое нужно привязать к Таблице).</li><li>Код события - код события, на которое должно сработать правило. На текущий момент поддерживаются следующие коды событий:</li></ul><ul style="list-style-type:circle;margin-left:80px;"><li>0 - на открытие (при открытии формы просмотра одной записи);</li><li>1 - до добавления (после нажатия на кнопку «Создать», но до внесения физической записи в БД);</li><li>2 - после добавления (после нажатия на кнопку «Создать» и внесения физической записи в БД);</li><li>3 - до обновления (после нажатия на кнопку «Сохранить» или «Готово», но до обновления физической записи в БД);</li><li>4 - после обновления (после нажатия на кнопку «Сохранить» или «Готово» и обновления физической записи в БД);</li><li>5 - до удаления (после нажатия на кнопку «Удалить», но до удаления физической записи в БД);</li><li>6 - после удаления (после нажатия на кнопку «Удалить» и удаления физической записи в БД).</li></ul><ul><li>Активно (признак активности связи).</li></ul><p>4.     Нажать кнопку «Создать», затем «Готово».</p><p class="IPNumberedLevel1CxSpLast"><o:p></o:p></p></body></html>