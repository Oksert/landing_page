<html><head></head><body><h2 style="font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;color:#333333;">Описание внешнего REST-API системы</h2><p>Ниже пример вызова внешного REST API-системы на языке JAVA.</p><h4 style="font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;color:#333333;">Инициализация подключения</h4><blockquote><p><span style="font-size:18px;">EntityRestClient brc = new EntityRestClient("http://sutrrpm.ru:8081");</span></p><p>brc.login("timur", "GoCzar123");</p></blockquote><h4 style="font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;color:#333333;">Создание сущности</h4><blockquote style="font-size:18px;"><p><span style="font-size:17.5px;">Map newEntityFieldMap = new HashMap();</span><br>newEntityFieldMap.put("TYPE", "newfeature");<br>newEntityFieldMap.put("INITIATOR", 4);</p><p>newEntityFieldMap.put("ASSIGNEDTO", 5);</p><p>newEntityFieldMap.put("DESCRIPTION", "Уот так уот: http://www.rbc.ru/economics/19/07/2016/578e307a9a79471533f6248d");</p><p>Integer newId = brc.doInsert("SD_TASK", newEntityFieldMap);</p><p>System.out.println("Created Record Id: " + newId);</p></blockquote><h4 style="font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;color:#333333;">Обновление сущности</h4><blockquote><span style="font-size:18px;">Map updateEntityFieldMap = brc.getRecordById("SD_TASK", 519); // сначала получаем список полей, у нас пока нет обновления дельтой, поэтому приходится запрашивать все данные данные, а потом отправлять их обратно.</span><br style="font-size:18px;"><span style="font-size:18px;">updateEntityFieldMap.put("DESCRIPTION", updateEntityFieldMap.get("DESCRIPTION") + ".\nЭто обновление сущности 519" );</span><br style="font-size:18px;"><span style="font-size:18px;">brc.doUpdate("SD_TASK", 519, updateEntityFieldMap);</span></blockquote><h4 style="font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;color:#333333;">Запроса списка сущностей</h4><blockquote>List listMap = brc.getRecordList("SD_TASK", "createdById=5"); // <br style="font-size:18px;">System.out.println("RecordList: " + CommonUtils.join(listMap, "\n"));</blockquote><h4 style="font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;color:#333333;">Выход </h4><blockquote><p>brc.logout();</p><div></div></blockquote></body></html>