<html><head></head><body><p>По событию перехода из одного шага workflow в другой можно настроить оповещение по email или sms заинтересованным лицам.</p><p>Шаблон оповещения можно настроить в формате HTML (можно настроить как в графическом редакторе HTML, так и непосредственно в формате HTML) имея возможность обращаться к полям текущего объекта и вызывать серверное и пользовательское API как в тексте письма, так и при определении получателей.</p><h3>Добавление оповещения по переходу по workflow </h3><p>Откройте карточку перехода, оповещение по которому необходимо производить.</p><p>Перейдите в секцию «Оповещения», нажмите кнопку «Добавить запись».</p><p>В открывшемся окне заполните обязательные поля:</p><ul><li><strong>Имя</strong> - название оповещения;</li><li><strong>Код сущности</strong> - объект системы, к которому привязан <span lang="EN-US">workflow</span>;</li><li><strong>Условие срабатывания</strong> - выражение на языке Java, преобразующееся к булевой переменной, когда оно возвращает значение «true» – оповещение будет рассылаться;</li><li><strong>Шаблон оповещения - </strong>шаблон текста, который будет отправлен. Если шаблон оповещения еще не создан, то нажмите на кнопку   <span class="inline-button-style-editor"><strong>+ </strong></span> и создайте новый шаблон (подробнее об это читайте в статье <a href="/ref/index.html?59">Добавление нового оповещения</a>);</li></ul><ul><li>Перейдите в секцию «Получатели сообщения», нажмите кнопку <span class="inline-button-style-editor">Добавить запись</span>, в открывшемся окне заполните следующие поля:<br>- <strong>Внутреннее имя</strong> - название получателя оповещения.</li><p>- <strong>Тип доступа </strong>- возможные значения:  вычисляемая группа доступа, вычисляемый пользователь, пользователь).</p><p>- <strong>Код группы/пользователя </strong>- имеет смысл если выбран тип доступа Группа доступа или Пользователь, в это случае в поле указаны Группа доступа/Пользователь.<br>- <strong>Вычисление группы/пользователя</strong> - в случае «типа доступа» «вычисляемая группа доступа» или «вычисляемый пользователь» - расчет соответствующего внутреннего кода на языке Java, итоговое значение должно быть записано в переменную типа Integer или List<Integer> <strong>recipientObjectId</strong>.<br>- <strong>Исключить текущего пользователя из списка получателей</strong> - устанавливается если пользователь, вызывающий своими действиями данное оповещение, не должен получать его.<br>Нажмите кнопку <span class="button-style-editor">Создать</span>, затем <span class="button-style-editor">Готово.<br></span>Повторите шаги соответствующие шаги руководства для создания каждого получателя оповещения/группы получателей.</p></ul><p>После того как указаны все получатели нажмите кнопку <span class="button-style-editor">Создать</span>, затем <span class="button-style-editor">Готово</span>.</p><p>Повторите процедуру создания оповещения для каждого оповещения на этот переход.</p></body></html>